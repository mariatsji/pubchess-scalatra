<!DOCTYPE html>
<html>
<head>
    <script src="scripts/pubchess.js"></script>
    <script src="scripts/stats.js"></script>
</head>
<body>
<h1>Pubchess</h1>

<div id="player"></div>

<script>
    showPlayerDetails(getRequestParameter('id'));
</script>

<svg xmlns="http://www.w3.org/2000/svg" width="20cm" height="9cm" version="1.1" id="graf"></svg>

<script>
    var elos = getStats(getRequestParameter('id'));
    var minelo = stats.minElo(elos);
    console.log('minelo : ' + minelo.elo);
    var maxelo = stats.maxElo(elos);
    console.log('maxelo : ' + maxelo.elo);
    var mindate = stats.minDate(elos);
    console.log('mindate : ' + mindate.date);
    var maxdate = stats.maxDate(elos);
    console.log('maxdate : ' + maxdate.date);
    var graf = document.getElementById('graf');
    var yaxis = stats.line(40, 10, 40, 300);
    var xaxis = stats.line(40, 300, 600, 300);
    var label1 = stats.text(minelo.elo, 0, 290);
    var label2 = stats.text(maxelo.elo, 0, 15);
    var label3 = stats.text(stats.striptime(mindate.date), 40, 320);
    var label4 = stats.text(stats.striptime(maxdate.date), 550, 320);
    graf.appendChild(xaxis);
    graf.appendChild(yaxis);
    graf.appendChild(label1);
    graf.appendChild(label2);
    graf.appendChild(label3);
    graf.appendChild(label4);
</script>

<p>
   <br /><a href="/">Home</a>
   <br /><a href="tournaments.html">Tournaments</a>
</p>

</body>
</html>
